<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Practical Papers: Chord, A Scalable Peer-To-Peer Lookup Protocol :: silly onions — Opinionated articles</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Chord is one of the original Distributed Hash Table projects from the MIT PDOS group at Computer Science and AI Laboratory, MIT. Here is a link to the original research for your reading pleasure. I was introduced to Chord by the book Distributed Systems by Maarten van Steen and Andrew S. Tanenbaum (p. 246, p. 248) as a solution for implementing a decentralized naming system or a structured decentralized overlay network."/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/posts/2020-28-01-chord/" />

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-99588570-3', 'auto');
	
	ga('send', 'pageview');
}
</script>


<link rel="stylesheet" href="/assets/style.css">

  <link rel="stylesheet" href="/assets/red.css">






<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">

<link rel="shortcut icon" href="/img/favicon/red.png">



<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Practical Papers: Chord, A Scalable Peer-To-Peer Lookup Protocol :: silly onions — Opinionated articles" />
<meta name="twitter:description" content="Chord is one of the original Distributed Hash Table projects from the MIT PDOS group at Computer Science and AI Laboratory, MIT. Here is a link to the original research for your reading pleasure. I was introduced to Chord by the book Distributed Systems by Maarten van Steen and Andrew S. Tanenbaum (p. 246, p. 248) as a solution for implementing a decentralized naming system or a structured decentralized overlay network." />
<meta name="twitter:site" content="/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Practical Papers: Chord, A Scalable Peer-To-Peer Lookup Protocol :: silly onions — Opinionated articles">
<meta property="og:description" content="Chord is one of the original Distributed Hash Table projects from the MIT PDOS group at Computer Science and AI Laboratory, MIT. Here is a link to the original research for your reading pleasure. I was introduced to Chord by the book Distributed Systems by Maarten van Steen and Andrew S. Tanenbaum (p. 246, p. 248) as a solution for implementing a decentralized naming system or a structured decentralized overlay network." />
<meta property="og:url" content="/posts/2020-28-01-chord/" />
<meta property="og:site_name" content="Practical Papers: Chord, A Scalable Peer-To-Peer Lookup Protocol" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">
<meta property="article:section" content="project" />
<meta property="article:published_time" content="2020-01-28 00:00:00 &#43;0000 UTC" />











</head>
<body class="">


<div class="container center">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    sillyonions
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="/posts/2020-28-01-chord/">Practical Papers: Chord, A Scalable Peer-To-Peer Lookup Protocol</a></h1>
  <div class="post-meta">
      
    <span class="post-date">
      2020-01-28
    </span>
    
    
  </div>

  
  <span class="post-tags">
    
    #<a href="/tags/distributed-systems/">distributed-systems</a>&nbsp;
    
    #<a href="/tags/golang/">golang</a>&nbsp;
    
    #<a href="/tags/dht/">dht</a>&nbsp;
    
  </span>
  

  

  <div class="post-content">
    

<p>Chord is one of the original Distributed Hash Table projects from the MIT PDOS group at Computer Science and AI Laboratory, MIT. <a href="https://pdos.csail.mit.edu/papers/chord:sigcomm01/chord_sigcomm.pdf">Here</a> is a link to the original research for your reading pleasure. I was introduced to Chord by the book <a href="https://www.distributed-systems.net/">Distributed Systems by Maarten van Steen and Andrew S. Tanenbaum</a> (p. 246, p. 248) as a solution for implementing a decentralized naming system or a structured decentralized overlay network.</p>

<h2 id="whats-a-distributed-hash-table">Whats a Distributed Hash Table?</h2>

<ul>
<li>A Hash Table is a data structure which stores values associated with keys and allows direct access to the values using these associated keys. A Hash Table is called a Dictionary in Python and Map in Golang.</li>
</ul>

<p>A distributed hash table, a DHT is a hash table distributed across various nodes in the network. The system allows any node that is part of the network to lookup location (i.e IP Address, in most cases) of the node containing the value of the key (not the value of the key itself).</p>

<p>PS. A node is just a system running the DHT program that is part of the DHT network.</p>

<h2 id="how-chord-creates-a-dht">How Chord creates a DHT?</h2>

<p><a href="https://pdos.csail.mit.edu/papers/chord:sigcomm01/chord_sigcomm.pdf">Chord</a> was introduced in 2001 as one of the four original DHT protocols (CAN, Tapestry, Pastry, and Chord). This post will only focus on Chord (mostly because I haven&rsquo;t read about the other protocols, yet).</p>

<p>Chord suggests creating a Ring shaped overlay network in which nodes are arranged based on a unique numeric ID computed on the node. This ID is generated by using a Hash function which computes a integer from the passed in bytestream, in this case the hostname of the node. Every node in the system has an integer value associated with it which can be compared with each other, thus the Chord ring can be created by arranging them in increasing order of value of this ID. This ID stay&rsquo;s consistent throughout lifetime of the system unless the network interface is changed.</p>

<p>Let there be 4 nodes: n1, n2, n3, n4 with ID&rsquo;s 100, 200, 300, 400 respectively and arrange them in a Ring overlay.</p>

<pre><code>    n1 ---------- n2 
  (100)          (200)
    |              |
    |              |
    |              |
    n4 ---------- n3
  (400)          (300)
</code></pre>

<p>The Hash function is the SHA1 Hash of a bytestream and from this 160bit hash a fixed amount of bits are extracted to create a numeric value, in our case it is 64bits to create a 64 bit unsigned integer.</p>

<pre><code class="language-go">    // SHA1 hash of the data and extract a 64 bit (8 byte) integer out of it.
    func Hash(data []byte) {
        ID := SHA1(data)[:8]
    }
</code></pre>

<p>A key in the DHT who&rsquo;s location is to be resolved is hashed using the same hashing function as described above. Let the Key be any bytestream, example: Key = &ldquo;UserData&rdquo;. The function Hash(Key) returns a numerical value which will lie between one of the nodes in the Chord ring.</p>

<pre><code>        Hash(Key) = 125
           ↓
    n1 ---------- n2 
  (100)          (200)
    |              |
    |              |
    |              |
    n4 ---------- n3
  (400)          (300)
</code></pre>

<p>The most important aim of the system is to implement the function <code>FindSuccessor(HashedKey)</code> to lookup the location of a key in the DHT. If we execute <code>FindSuccessor(Hash(Key))</code> on any of the nodes that are part of the network, It will return the node&rsquo;s location who&rsquo;s ID&rsquo;s numerical value lies just next to the value of the hashed key value. In our case <code>FindSuccessor(Hash(Key))</code> will return the location of node n2.</p>

<pre><code>    Hash(Key) FindSuccessor(Hash(Key))
        ↓         ↓
    n1 ---------- n2 
    |              |
    |              |  
    |              |
    n4 ---------- n3
</code></pre>

<p>The paper presents a psuedocode implementation of FindSuccessor, the concept of finger tables and how different nodes can join and leave the network.</p>

<h2 id="todo">TODO</h2>

<ul>
<li>Different functions presented in the paper.</li>
<li>Walkthrough of my implementation of <a href="https://github.com/arush15june/chord-golang">Chord in Golang</a>.</li>
<li>Possible applications of chord.</li>
</ul>

  </div>
  
  <div class="pagination">
    <div class="pagination__title">
      <span
        class="pagination__title-h">Read other posts</span>
      <hr />
    </div>
    <div class="pagination__buttons">
      
      
      <span class="button next">
        <a href="/posts/2019-24-11-hacking-qatar/">
          <span class="button__text">Bits &amp; Signals: Qatar International Cybersecurity Competition</span>
          <span class="button__icon">→</span>
        </a>
      </span>
      
    </div>
  </div>
  

  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "arush15june-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2020 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>





  
</div>

</body>
</html>
